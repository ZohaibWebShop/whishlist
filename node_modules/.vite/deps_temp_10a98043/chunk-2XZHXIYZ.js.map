{
  "version": 3,
  "sources": ["../../@shopify/app-bridge-core/actions/Navigation/Redirect/index.js"],
  "sourcesContent": ["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Redirect = exports.isProductVariantResourcePayload = exports.isCreateResourcePayload = exports.isAdminSection = exports.isRemotePayload = exports.isAdminSectionPayload = exports.isAdminPathPayload = exports.isAppPayload = exports.getRelativePath = exports.normalizeUrl = exports.getPathWithSearchAndHash = exports.toDestination = exports.toApp = exports.toRemote = exports.toAdminSection = exports.toAdminPath = exports.isResourcePayload = exports.ResourceType = exports.Action = void 0;\nvar helper_1 = require(\"../../helper\");\nvar ActionSet_1 = require(\"../../ActionSet\");\nvar types_1 = require(\"../../types\");\nvar Action;\n(function (Action) {\n    Action[\"ADMIN_SECTION\"] = \"APP::NAVIGATION::REDIRECT::ADMIN::SECTION\";\n    Action[\"ADMIN_PATH\"] = \"APP::NAVIGATION::REDIRECT::ADMIN::PATH\";\n    Action[\"REMOTE\"] = \"APP::NAVIGATION::REDIRECT::REMOTE\";\n    Action[\"APP\"] = \"APP::NAVIGATION::REDIRECT::APP\";\n})(Action = exports.Action || (exports.Action = {}));\nvar ResourceType;\n(function (ResourceType) {\n    ResourceType[\"Product\"] = \"products\";\n    ResourceType[\"Collection\"] = \"collections\";\n    ResourceType[\"Order\"] = \"orders\";\n    ResourceType[\"Customer\"] = \"customers\";\n    ResourceType[\"Discount\"] = \"discounts\";\n})(ResourceType = exports.ResourceType || (exports.ResourceType = {}));\nfunction isResourcePayload(resource) {\n    // tslint:disable-next-line:no-boolean-literal-compare\n    return typeof resource.id === 'string';\n}\nexports.isResourcePayload = isResourcePayload;\nfunction toAdminPath(payload) {\n    return helper_1.actionWrapper({\n        payload: payload,\n        group: types_1.Group.Navigation,\n        type: Action.ADMIN_PATH,\n    });\n}\nexports.toAdminPath = toAdminPath;\nfunction toAdminSection(payload) {\n    return helper_1.actionWrapper({\n        payload: payload,\n        group: types_1.Group.Navigation,\n        type: Action.ADMIN_SECTION,\n    });\n}\nexports.toAdminSection = toAdminSection;\nfunction toRemote(payload) {\n    return helper_1.actionWrapper({\n        payload: payload,\n        group: types_1.Group.Navigation,\n        type: Action.REMOTE,\n    });\n}\nexports.toRemote = toRemote;\nfunction toApp(payload) {\n    return helper_1.actionWrapper({\n        payload: payload,\n        group: types_1.Group.Navigation,\n        type: Action.APP,\n    });\n}\nexports.toApp = toApp;\nfunction toDestination(action, payload, id) {\n    switch (action) {\n        case Action.APP: {\n            var appPayload = isAppPayload(payload) ? payload : { path: payload };\n            return toApp(__assign({ id: id }, appPayload));\n        }\n        case Action.ADMIN_PATH: {\n            var adminPathPayload = isAdminPathPayload(payload) ? payload : { path: payload };\n            return toAdminPath(__assign({ id: id }, adminPathPayload));\n        }\n        case Action.ADMIN_SECTION: {\n            var adminSectionPayload = isAdminSectionPayload(payload)\n                ? payload\n                : { section: payload };\n            return toAdminSection(__assign({ id: id }, adminSectionPayload));\n        }\n        case Action.REMOTE: {\n            var remotePayload = isRemotePayload(payload) ? payload : { url: payload };\n            return toRemote(__assign({ id: id }, remotePayload));\n        }\n    }\n}\nexports.toDestination = toDestination;\nfunction getPathWithSearchAndHash(_a) {\n    var pathname = _a.pathname, search = _a.search, hash = _a.hash;\n    return \"\" + pathname + (search || '') + (hash || '');\n}\nexports.getPathWithSearchAndHash = getPathWithSearchAndHash;\nfunction normalizeUrl(to) {\n    if (to instanceof URL) {\n        return to.toString();\n    }\n    if (typeof to === 'string') {\n        return to;\n    }\n    return getRelativePath(to);\n}\nexports.normalizeUrl = normalizeUrl;\nfunction getRelativePath(to) {\n    if (typeof to === 'string') {\n        if (to.startsWith('/')) {\n            return to;\n        }\n        return getPathWithSearchAndHash(new URL(to));\n    }\n    var search = to.search instanceof URLSearchParams ? to.search.toString() : to.search;\n    return getPathWithSearchAndHash(__assign(__assign({}, to), { search: search }));\n}\nexports.getRelativePath = getRelativePath;\nfunction isAppPayload(payload) {\n    return typeof payload === 'object' && Object.prototype.hasOwnProperty.call(payload, 'path');\n}\nexports.isAppPayload = isAppPayload;\nfunction isAdminPathPayload(payload) {\n    return typeof payload === 'object' && Object.prototype.hasOwnProperty.call(payload, 'path');\n}\nexports.isAdminPathPayload = isAdminPathPayload;\nfunction isAdminSectionPayload(payload) {\n    return (typeof payload === 'object' &&\n        typeof payload.section === 'object' &&\n        Object.prototype.hasOwnProperty.call(payload.section, 'name'));\n}\nexports.isAdminSectionPayload = isAdminSectionPayload;\nfunction isRemotePayload(payload) {\n    return typeof payload === 'object' && Object.prototype.hasOwnProperty.call(payload, 'url');\n}\nexports.isRemotePayload = isRemotePayload;\nfunction isAdminSection(to) {\n    return typeof to === 'object' && typeof (to === null || to === void 0 ? void 0 : to.name) === 'string';\n}\nexports.isAdminSection = isAdminSection;\nfunction isCreateResourcePayload(resource) {\n    // tslint:disable-next-line:no-boolean-literal-compare\n    return resource.create === true;\n}\nexports.isCreateResourcePayload = isCreateResourcePayload;\nfunction isProductVariantResourcePayload(resource) {\n    var castResource = resource;\n    // tslint:disable-next-line:no-boolean-literal-compare\n    return castResource.id !== undefined && castResource.variant !== undefined;\n}\nexports.isProductVariantResourcePayload = isProductVariantResourcePayload;\nvar Redirect = /** @class */ (function (_super) {\n    __extends(Redirect, _super);\n    function Redirect(app) {\n        return _super.call(this, app, 'Redirect', types_1.Group.Navigation) || this;\n    }\n    Object.defineProperty(Redirect.prototype, \"payload\", {\n        get: function () {\n            return { id: this.id };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Redirect.prototype.dispatch = function (action, payload) {\n        var redirectAction = toDestination(action, payload, this.payload.id);\n        this.app.dispatch(redirectAction);\n        return this;\n    };\n    return Redirect;\n}(ActionSet_1.ActionSet));\nexports.Redirect = Redirect;\n"],
  "mappings": "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",
  "names": ["d", "b", "Action", "ResourceType", "Redirect"]
}
